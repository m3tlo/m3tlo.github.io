"use strict";(self["webpackChunkcrm_vue_2"]=self["webpackChunkcrm_vue_2"]||[]).push([[439],{4439:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var r=function(){var t=this,s=t._self._c;return s("div",{staticClass:"app-page"},[s("div",[s("div",{staticClass:"page-title"},[s("h3",[t._v("Счет")]),s("button",{staticClass:"btn waves-light btn-small",on:{click:t.refresh}},[s("i",{staticClass:"fa-solid fa-rotate-right"})])]),t.loading?s("my-loader"):s("div",{staticClass:"row"},[s("HomeBill",{attrs:{rates:t.currency.rates}}),s("HomeCurrency",{attrs:{rates:t.currency.rates,date:t.currency.date}})],1)],1)])},a=[],c=function(){var t=this,s=t._self._c;return s("div",{staticClass:"col s12 m6 l4"},[s("div",{staticClass:"card light-blue bill-card"},[s("div",{staticClass:"card-content white-text"},[s("span",{staticClass:"card-title"},[t._v("Счет в валюте")]),t._l(t.currencies,(function(e){return s("p",{key:e,staticClass:"currency-line"},[s("span",[t._v(t._s(t._f("currency")(t.getCurrency(e),e)))])])}))],2)])])},i=[],n=e(3822),l={props:["rates"],data:()=>({currencies:["RUB","USD","EUR"]}),computed:{...(0,n.Se)(["info"]),base(){return this.$store.getters.info.bill/(this.rates["RUB"]/this.rates["EUR"])}},methods:{getCurrency(t){return Math.floor(this.base*this.rates[t])}}},u=l,d=e(1001),o=(0,d.Z)(u,c,i,!1,null,null,null),h=o.exports,_=function(){var t=this,s=t._self._c;return s("div",{staticClass:"col s12 m6 l8"},[s("div",{staticClass:"card orange darken-3 bill-card"},[s("div",{staticClass:"card-content white-text"},[t._m(0),s("table",[t._m(1),s("tbody",t._l(t.currencies,(function(e){return s("tr",{key:e},[s("td",[t._v(t._s(e))]),s("td",[t._v(t._s(t.rates[e].toFixed(2)))]),s("td",[t._v(t._s(t._f("date")(t.date,"date")))])])})),0)])])])])},v=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"card-header"},[s("span",{staticClass:"card-title"},[t._v("Курс валют")])])},function(){var t=this,s=t._self._c;return s("thead",[s("tr",[s("th",[t._v("Валюта")]),s("th",[t._v("Курс")]),s("th",[t._v("Дата")])])])}],f={props:["rates","date"],data:()=>({currencies:["RUB","USD","EUR"]})},C=f,p=(0,d.Z)(C,_,v,!1,null,null,null),y=p.exports,m=e(3786),g={name:"HomePage",components:{HomeBill:h,HomeCurrency:y,MyLoader:m.Z},data:()=>({loading:!0,currency:null}),async mounted(){this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1},methods:{async refresh(){this.loading=!0,this.currency=await this.$store.dispatch("fetchCurrency"),this.loading=!1}}},b=g,k=(0,d.Z)(b,r,a,!1,null,null,null),w=k.exports}}]);
//# sourceMappingURL=439.4d31ee2b.js.map